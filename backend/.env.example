# -----------------------------------------------------------------------------
# Too Funny Productions – Local Dev Environment (.env)
# -----------------------------------------------------------------------------
# Engine/host: PostgreSQL 18 on Windows (data dir H:\apps\pgsql\data)
# Local DB will be your source of truth for dev.
# -----------------------------------------------------------------------------

# --- Database (use either DATABASE_URL or discrete DB_* values) -------------
DATABASE_URL=postgresql://postgres:<PASSWORD>@127.0.0.1:5432/toofunny?sslmode=disable

DB_HOST=127.0.0.1
DB_PORT=5432
DB_NAME=toofunny
DB_USER=postgres
DB_PASSWORD=<PASSWORD>         # Set/reset instructions below
DB_SSLMODE=disable

# --- App/runtime -------------------------------------------------------------
# Generate a strong random value (instructions below)
SESSION_SECRET=<SET_ME>

# Comma-separated allowlist of FULL EMAIL ADDRESSES for Google sign-in
# (e.g., kevin@example.com,lucius@example.com,maggie@example.com,donovan@example.com)
ALLOWLIST_EMAILS=<CSV_EMAILS>

# Frontend dev server (Vite default). Match this to your running frontend.
FRONTEND_URL=http://localhost:5173
CORS_ORIGIN=http://localhost:5173

# Google OAuth
GOOGLE_CLIENT_ID=<GOOGLE_CLIENT_ID>
GOOGLE_CLIENT_SECRET=<GOOGLE_CLIENT_SECRET>
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# Backup login (for script toggle)
TFP_BACKUP_USER=<BACKUP_USER>
TFP_BACKUP_PASS=<BACKUP_PASS>

# Toggle (0=backup login, 1=Google OAuth)
AUTH_MODE=1

# Supabase/PostgREST (MikoDB) — point at your local PostgREST gateway
# Default aligns with the Supabase CLI local stack. Swap if your gateway runs
# elsewhere and keep this pointing at MikoDB instead of the hosted Supabase
# project.
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_SERVICE_KEY=<LOCAL_SERVICE_ROLE_KEY>
# Optional override for the admin badge (otherwise auto-detected)
DB_FRIENDLY_NAME=MikoDB

# Backend server port
PORT=5000
