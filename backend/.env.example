# -----------------------------------------------------------------------------
# Too Funny Productions – Backend Local Dev (.env)
# -----------------------------------------------------------------------------

# --- Database (use either DATABASE_URL or discrete DB_* values) -------------
DATABASE_URL=postgresql://postgres:<PASSWORD>@127.0.0.1:5432/toofunny?sslmode=disable
DB_HOST=127.0.0.1
DB_PORT=5432
DB_NAME=toofunny
DB_USER=postgres
DB_PASSWORD=<PASSWORD>
DB_SSLMODE=disable

# --- App/runtime -------------------------------------------------------------
NODE_ENV=development
PORT=5000
SESSION_SECRET=<SET_ME>
SESSION_STORE_DIR=../.sessions

# Comma-separated allowlist of FULL EMAIL ADDRESSES for Google sign-in
ALLOWLIST_EMAILS=<CSV_EMAILS>

# Frontend dev server (Vite default). Match this to your running frontend.
FRONTEND_URL=http://localhost:5173
# Comma-separated list (e.g., http://localhost:5173,http://localhost:8082,https://toofunnyproductions.com)
CORS_ORIGIN=http://localhost:5173,http://localhost:8082,https://toofunnyproductions.com
# Optional: override the path to the built frontend served by the backend
# FRONTEND_DIST=../frontend/dist

# Google OAuth
GOOGLE_CLIENT_ID=<GOOGLE_CLIENT_ID>
GOOGLE_CLIENT_SECRET=<GOOGLE_CLIENT_SECRET>
# Can be absolute or a path that will be resolved against BACKEND_URL
GOOGLE_CALLBACK_URL=/api/auth/google/callback

# Backup login (for script toggle)
TFP_BACKUP_USER=<BACKUP_USER>
TFP_BACKUP_PASS=<BACKUP_PASS>
# Toggle (0=backup login, 1=Google OAuth)
AUTH_MODE=1

# Supabase/PostgREST (MikoDB) — point at your local PostgREST gateway
# Default aligns with the Supabase CLI local stack. Swap if your gateway runs
# elsewhere and keep this pointing at MikoDB instead of the hosted Supabase
# project.
SUPABASE_URL=http://127.0.0.1:54321
# Use the service_role key for full admin access to Supabase/PostgREST
SUPABASE_SERVICE_KEY=<LOCAL_SERVICE_ROLE_KEY>
# Optional override for the admin badge (otherwise auto-detected)
DB_FRIENDLY_NAME=MikoDB

# Contact form SMTP settings
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=username
SMTP_PASS=password
# Optional: override the contact recipient email address
CONTACT_TO=info@toofunnyproductions.com

# Public-facing backend URLs (used for redirects and callbacks)
# Only set one primary URL to avoid conflicting redirects; leave the
# rest empty unless your deployment needs an alternate hostname.
BACKEND_URL=http://localhost:5000
PUBLIC_BACKEND_URL=
API_PUBLIC_URL=
API_URL=
